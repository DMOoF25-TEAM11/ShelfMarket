<UserControl x:Class="ShelfMarket.UI.Views.ShelfView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:views="clr-namespace:ShelfMarket.UI.Views"
             xmlns:ui="clr-namespace:ShelfMarket.UI.AttachedProperties"
             mc:Ignorable="d" Height="949" Width="1280">

    <!-- ===== RESSOURCER ===== -->
    <!-- Indlæser tema ressourcer fra ekstern fil -->
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/ShelfMarket.UI;component/Views/Theme/Theme.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <!-- ===== HOVEDLAYOUT ===== -->
    <!-- Hovedgrid med to rækker: kontroller og reol visualisering -->
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" MinHeight="69.96"/>
            <!-- Kontrol panel -->
            <RowDefinition/>
            <!-- Reol visualisering -->
        </Grid.RowDefinitions>

        <!-- ===== KONTROL PANEL ===== -->
        <!-- Top kontrol panel med måned/år valg og tilføj knap -->
        <Border Style="{StaticResource Card}" Margin="0,0,0,4">
            <Grid>
                <!-- Kolonne definitioner for kontrol panel layout -->
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <!-- Spacer -->
                    <ColumnDefinition Width="170"/>
                    <!-- Måned dropdown -->
                    <ColumnDefinition Width="20"/>
                    <!-- Spacer -->
                    <ColumnDefinition Width="100"/>
                    <!-- År dropdown -->
                    <ColumnDefinition Width="20"/>
                    <!-- Spacer -->
                    <ColumnDefinition Width="150"/>
                    <!-- Tilføj knap -->                    
                    <ColumnDefinition Width="20"/>
                    <!-- Spacer-->
                    <ColumnDefinition Width="150"/>
                    <!-- Tilføj knap -->
                    <ColumnDefinition Width="Auto"/>
                    
                    <!-- Spacer -->
                    <ColumnDefinition Width="*"/>
                    <!-- Fyld resten -->
                </Grid.ColumnDefinitions>

                <!-- Måned valg dropdown -->
                <ComboBox Grid.Column="1" SelectedIndex="0">
                    <ComboBoxItem Content="Viser nuværende måned"/>
                    <ComboBoxItem Content="Januar"/>
                    <ComboBoxItem Content="Februar"/>
                    <ComboBoxItem Content="Marts osv"/>
                </ComboBox>

                <!-- År valg dropdown -->
                <ComboBox Grid.Column="3" SelectedIndex="0">
                    <ComboBoxItem Content="Årstal"/>
                    <ComboBoxItem Content="2025"/>
                    <ComboBoxItem Content="2026"/>
                    <ComboBoxItem Content="2027 osv"/>
                </ComboBox>

                <!-- Spacer mellem dropdowns og knap -->
                <Border Grid.Column="4"/>

                <!-- Tilføj ny reol knap - Åbner popup vindue -->
                <Button Grid.Column="5" 
                        Content="Tilføj ny reol" 
                        Style="{StaticResource Button.Primary}" 
                        Click="TilfoejNyReol_Click" />

                <!-- Ny kontrakt - Åbner kontrakt popup -->
                <Button Grid.Column="7" 
                        Content="Ny Kontrakt" 
                        Style="{StaticResource Button.Primary}"
                        Click="NyKontrakt_Click"/> 
            </Grid>
        </Border>

        <!-- ===== REOL VISUALISERING ===== -->
        <!-- Reol visualiserings område med grid layout og drag and drop -->
        <Border Grid.Row="1" 
                Background="Transparent" 
                BorderBrush="{x:Null}" 
                BorderThickness="0" 
                CornerRadius="0" 
                Margin="8,4,8,8">
            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                <Grid x:Name="ShelfGrid" AllowDrop="True"
                      Width="475"
                      Height="700">

                    <!-- Grid baggrund med subtile linjer -->
                    <Grid.Background>
                        <DrawingBrush Viewport="0,0,25,25" ViewportUnits="Absolute" TileMode="Tile">
                            <DrawingBrush.Drawing>
                                <GeometryDrawing>
                                    <GeometryDrawing.Brush>
                                        <SolidColorBrush Color="{Binding Source={StaticResource Brush.SurfaceAlt}, Path=Color}"/>
                                    </GeometryDrawing.Brush>
                                    <GeometryDrawing.Geometry>
                                        <RectangleGeometry Rect="0,0,25,25"/>
                                    </GeometryDrawing.Geometry>
                                    <GeometryDrawing.Pen>
                                        <Pen Brush="{StaticResource Brush.Border}" Thickness="0.5"/>
                                    </GeometryDrawing.Pen>
                                </GeometryDrawing>
                            </DrawingBrush.Drawing>
                        </DrawingBrush>
                    </Grid.Background>

                    <!-- 19 columns -->
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="25"/>
                    </Grid.ColumnDefinitions>

                    <!-- 27 rows -->
                    <Grid.RowDefinitions>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="25"/>
                    </Grid.RowDefinitions>

                    <!-- Existing shelf buttons and elements go here, update their Grid.Row and Grid.Column as needed -->
                </Grid>
            </ScrollViewer>
        </Border>


    </Grid>
</UserControl>
