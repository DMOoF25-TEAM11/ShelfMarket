erDiagram
    VERSIONINFO {
        Guid Id
        string Version
        datetime AppliedAt
    }

    COMPANYINFO {
        Guid Id
        string Name
        string Address
        string PostalCode
        string City
        string Email
        string PhoneNumber
        boolean IsTaxRegistered
        boolean IsTaxUsedItem
    }

    SHELFTYPE {
        Guid Id
        string Name
    }

    SHELF {
        Guid Id
        string Number
        Guid ShelfTypeId
    }

    SHELFTENANT {
        Guid Id
        string FirstName
        string LastName
        string Email
        string Status
    }

    SHELFTENANTCONTRACT {
        Guid Id
        Guid ShelfTenantId
        string ContractNumber
        date StartDate
        date EndDate
        datetime CancelledAt
    }

    SHELFTENANTCONTRACTLINE {
        Guid Id
        Guid ShelfTenantContractId
        Guid ShelfId
        int LineNumber
        decimal PricePerMonth
        decimal PricePerMonthSpecial
    }

    SHELFPRICINGRULES {
        Guid Id
        int MinShelvesInclusive
        decimal PricePerShelf
    }

    TAXRATES {
        Guid Id
        string Name
        decimal RatePercent
        date EffectiveFrom
        date EffectiveTo
    }

    SALESRECEIPT {
        Guid Id
        string ReceiptNumber
        datetime IssuedAt
        decimal TotalAmount
        decimal TaxAmount
        boolean PaidByCash
        boolean PaidByMobile
    }

    SALESRECEIPTLINE {
        Guid Id
        Guid SalesReceiptId
        string ShelfNumber
        decimal UnitPrice
    }

    SHELFTYPE ||--o{ SHELF : has
    SHELFTENANT ||--o{ SHELFTENANTCONTRACT : has
    SHELFTENANTCONTRACT ||--o{ SHELFTENANTCONTRACTLINE : has
    SHELF ||--o{ SHELFTENANTCONTRACTLINE : referenced
    SALESRECEIPT ||--o{ SALESRECEIPTLINE : has
    SHELFTENANTCONTRACT ||--o{ SALESRECEIPT : source
    TAXRATES ||--o{ SALESRECEIPTLINE : taxes
    SHELFPRICINGRULES ||--o{ SHELFTENANTCONTRACTLINE : pricing
    COMPANYINFO ||--o{ SALESRECEIPT : issuer

